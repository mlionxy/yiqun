(window.webpackJsonp=window.webpackJsonp||[]).push([[397],{874:function(e,t,o){"use strict";o.r(t);var r=o(14),c=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"socket与websocket"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#socket与websocket"}},[e._v("#")]),e._v(" Socket与WebSocket")]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("Hi")]),e._v(" "),o("p",[e._v("Socket本身并不是一个协议，它工作在OSI模型会话层，是一个套接字，TCP/IP网络的API，是为了方便大家直接使用更底层协议而存在的一个抽象层。Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。而WebSocket则是一个典型的应用层协议。")])]),e._v(" "),o("p",[o("strong",[e._v("什么是Socket")])]),e._v(" "),o("p",[e._v("简单理解：Socket = IP地址 + 端口 + 协议。")]),e._v(" "),o("p",[e._v("具体来说，Socket是一套标准，它完成了对TCP/IP的高度封装，屏蔽网络细节以方便开发者更好地进行网络编程。Socket有自己的原语。")]),e._v(" "),o("p",[o("strong",[e._v("什么是WebSocket")])]),e._v(" "),o("p",[e._v("WebSocket是一个持久化的协议，它是伴随HTTP5而出的协议，用来解决http不支持持久化连接的问题。")]),e._v(" "),o("p",[e._v("总之，WebSocket和Socket其实是两个东西，Socket一个是网编编程的标准接口，而WebSocket是应用层通信协议。")]),e._v(" "),o("p",[e._v("但是，说WebSocket与Socket的差异更多说的是："),o("strong",[e._v("WebSocket与HTTP无状态被动协议的差异，或者说是WebSocket与Ajax轮询和long poll等实现实时信息传输方式的差异")]),e._v("，这也是本文需要讨论的问题。")]),e._v(" "),o("p",[o("strong",[e._v("为什么需要WebSocket?")])]),e._v(" "),o("p",[e._v("Browser已经支持http协议，为什么还要开发一种新的WebSocket协议呢？我们知道http协议是一种单向的网络协议，在建立连接后，它只允许Browser/UA（UserAgent）向WebServer发出请求资源后，WebServer才能返回相应的数据。而WebServer不能主动的推送数据给Browser/UA，当初这么设计http协议也是有原因的，假设WebServer能主动的推送数据给Browser/UA，那Browser/UA就太容易受到攻击，一些广告商也会主动的把一些广告信息在不经意间强行的传输给客户端，这不能不说是一个灾难。那么单向的http协议给现在的网站或Web应用程序开发带来了哪些问题呢？")]),e._v(" "),o("p",[e._v("让我们来看一个案例，现在假设我们想开发一个基于Web的应用程序去获取当前Web服务器的实时数据，例如火车票的剩余票数、实时信息等等，这就需要Browser/UA与WebServer端之间反复的进行http通信，Browser不断的发送Get请求，去获取当前的实时数据。")]),e._v(" "),o("p",[e._v("WebSocket从满足基于Web的日益增长的实时通信需求应运而生，解决了客户端发起多个Http请求到服务器资源浏览器必须要在经过长时间的轮询问题，实现里多路复用，是全双工、双向、单套接字连接，在WebSocket协议下服务器和客户端可以同时发送信息。")])])}),[],!1,null,null,null);t.default=c.exports}}]);